<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Bem vindo</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="/materialize/css/materialize.css"  media="screen,projection"/>
</head>
<body>	
	
	<div class="row">
		<div class="col s6 offset-s3">
			<div class="row card-panel">
				<div id="chartContainer" style="height: 370px; width: 100%;"></div>
			</div>
		</div>
	</div>
	
	<script th:inline="javascript">
/*<![CDATA[*/
window.onload = function() {
    var grafico = /*[[${grafico}]]*/ 'default';
    
    //  Only a test
    grafico.forEach(myFunction);
    function myFunction(value, index, array) {
    	console.log(value); 
    }    
    
    var chart = new CanvasJS.Chart("chartContainer", {
    	animationEnabled: true,
    	title: {
    		text: "Quantidade de pessoas"
    	},
    	data: [{        
    		type: "pie",
    		startAngle: 240,
    		yValueFormatString: "##0.00\"\"",
    		indexLabel: "{label} {y}",     
    		dataPoints: []
    	}]
    });

    /* Update dataPoints from AJAX and render the chart*/	
    chart.options.data[0].dataPoints = grafico;	
    chart.render();		
    	
}	
/*]]>*/
</script>

 
	<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<script type="text/javascript" src="/materialize/js/materialize.min.js"></script>
	<script type="text/javascript" src="/materialize/js/materialize.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
</body>
</html>